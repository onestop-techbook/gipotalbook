# 工事中ページを作る(モブワーク#2:6月11日)

2回目のモブワークで建設中ページを作りました。それまでのそれぞれのワークやSlackでの議論等です。

## 工事中ページとは？

古の管理人（元インターネット老人会）はホームページを作ろう！と思ったとき掲示板とか足跡帳とか、100の質問とか、自作小説とか、リンクページとか作るぞー！と思ったものです。ですが、たくさんのページを作るには時間がかかります。いますぐ公開したい！と思った管理人の多くはメニューに「掲示板（工事中）」のように、工事中（Underconstruction）としてホームページを公開し始めたものでした。

現在で言うところのティザーサイトのようなものだと思っていただけるとイメージが湧くと思います。工事中と銘打ってはいますが、そのページ自体がサービス開始予定という事実を告知するものになります。

## なぜ工事中を作るのか？

そんなインターネット老人会ではおなじみの工事中ページですが、ギポタルでも以下の目的で作成することになりました（独断と偏見の理由です）

 - とりあえず手を動かして成果が欲しい
 - 作成過程を公開していくことで宣伝になる
 - モブプロ（モブワーク）の良さを体感したい
 - 定期的にやらないとエタる（やる気を無くして自然消滅してしまう）

仕事でもない趣味の集まりなので、当然無償で時間を捻出して集まっています。楽しいとはいえ、なんの成果も得られないことに時間を捻出しつづけるのは大きなストレスになってしまいます。そのため、簡単なものでいいからまずは形ある成果を求めました。

また、モブプロ（モブワーク）はやってみると様々な問題が出てきます。一人ひとりそれぞれ違う人が集まって行う作業なので、背景共有や認識合わせなどが必要になります。それらも難しい作業でやるよりもまずは簡単な作業で行うほうがストレスを低減することができます。

そういった理由からまずは工事中ページの作成にとりかかることになりました。

## gipotal.jpを取る
前回6月6日のモブワークでドメイン候補が決まりました。他で取られていないことも確認できたので、ドメインを取得しておきます。

前回のモブの中で、ドメイン販売サイトのうち某有名なところと、次くらいに有名なところはいろいろアレなところがあるらしいという評判を聞いたので、Xserverで取ることにします。取りたいドメイン名を入れて検索すると、様々なドメイン(.netとか.comとか含めて)の一覧が表示され、取得できるものには〇表示がされます。合わせて年度費用も記載されています。

アカウントを登録し、手続きに入ります。基本的にはショッピング間隔で進めて問題ありません。

ナビゲーションに従って進めればドメインが取れます。

取得が完了したら、管理画面からきちんととれていることを確認し、ニヤニヤすることができます。
![ドメイン管理画面で確認する](chap-mob-0611/domain.png?scale=0.8)

### Whois代行について
唯一ケアした方が良いのが、Whoisの扱いです。


ドメインの取得者、管理者やネームサーバなどの情報が含まれますが、設定によっては本名や住所がモロバレになってしまいます。

登録車情報として、ドメイン取得者の住所や氏名を登録する欄があります。ここに書いた情報は公開されてしまいますから、本名、住所まで全世界公開(Whoisを表示するサイトもあります)されます。

そこで、設定により非表示とすることができます。

![非表示設定](chap-mob-0611/whoissetting.png?scale=0.8)

上方にある、Whois登録者情報非表示設定　を有効にしましょう。

また、同時に公開代行設定もしておきましょう。問い合わせ窓口としてドメイン管理の運営会社を表示することができます。運営会社によって名称は多少異なるかもしれませんが、どこかにそういう設定があるようです。

しかし、登録させるにあたって、

* 登録内容
* 公開内容
* 何のために公開するか
* 非表示にする設定

について、説明をきちんと書いておいてくれないと、本名全世界公開となります。

登録しなきゃいけないから正直に書いてね、でも表示はこうなるし、レジストラを代わりに表示することができるよ、こう設定すると非公開にできるから
とわかりやすく説明書きをしてほしいものです。


![Whois公開代行ができている例](chap-mob-0611/whois.png?scale=0.8)

代行設定および非公開設定を行うことで、本名非公開、窓口は運営会社という形に変更できます。

## 工事中ページを作る準備
そろそろ、公開ページが欲しくなるところです。現時点では「建設中」だけでも十分です。古き良きインターネット老人会の建設中ページですね。インターネット老人会的に、カウンターやら隠しリンクやらMIDIを！なんて話も出ますが、とりあえず保留です。

まずは、GithubPagesで工事中ページを作るのが次のお題になりました。独自ドメインを設定することもできるようです。

その間に、なべくらさんがトップ画像のラフを作ってくれていました。

![トップ画像ラフ](chap-mob-0611/roughillust.png?scale=0.75)

頒布ブースを準備する子と、泣きながら執筆している子がいい感じです。あ、本当の技術同人誌はみんな楽しんで書いてますからね？これは頑張って書いているからちょっと汗が出ているだけです。また、できあがったイラストは公式で見てくださいね。

キャラができると、キャラの名前や鳴き声などもアイディアが出てきます。

今回のモブワークは、Youtubeライブにストリーミングを流すという形で保存します。ワークの録画ファイルを保持したりやり取りする必要がないためです。あとから見直すなども非常に便利で、実際この原稿を書きながら見返しています。このあたりは、最近様々なオンラインイベントを主催しているKANEさんの知見によるところが大きく、本当にありがたい限りです。

環境として、

* モブプログラミング：Visual Studio Code (VSC)+LiveShareいれてモブプログラミングできるように
* 音声、画面共有:Zoom
* 記録、不参加者への共有：映像はYoutubeLive、文字はSlack

というエコかつ機能十分なモブワーク環境が完成しました。

LiveShareは共有URLをクリックするだけで使えます。プラグインのインストールもその場でできて、ストレスなく開始できました。

## 工事中ページをGithubPagesに作る
それでは、モブワーク開始です。今日はモブワークでコーディングが主体だったので、Mural上の内容は少な目です。参加者の確認、今日やること、できたもののスクショを成果物として共有する3カラムのみです。

### ダミーページを作る

まずは、Githubのリポジトリにダミーのhtmlを作ります。これがないと、外から見てちゃんと設定できているのかがわかりません。

```sh
$ mkdir docs
```

まず`docs`ディレクトリを作って、その中にindex.htmlを作ります。真っ白だとなにがなんだかわからないので、Hello.Worldとでも書いておくとよいでしょう。これをPushします。

なお、今回の設定では、`/docs`をドキュメントルートにしました。したがって、この配下に置いたものは相対パスで参照できます。

あとは、このindex.htmlを改造すればいかようにでもできますね。

#### [column] gh-pagesを使ってもできるらしいがやらなかった
当該リポジトリに`gh-pages`というブランチを切ってPushするだけ、という雑な説明から始まります。

```sh
$ git branch
master
$ git checkout -b gh-pages
$ git branch
master gh-pages
$ git pull origin master
```

ですが、必ずしも`gh-pages`というブランチでなくとも公開できるそうなので、`master`にフォルダを作ってやることになりました。使わなかったけど、gitのコマンドも覚えられて便利！

#### [/column]

### GitHubPagesの設定
次に、GitHub Pagesの設定です。
リポジトリのSettingsから、Sourceを設定します。Settingsの下の方、Danger Zoneの上です。

![GitHub Pagesの設定をする](chap-mob-0611/ghpagessetting.png?scale=0.8)

![プルダウンメニューから設定](chap-mob-0611/pulldownmenu.png?scale=0.8)

初期設定ではnoneになっていますので、これを`master branch`または`master brach /docs folder`に設定することで設定できるようになります。

http://ID.github.io/repository でアクセスできるはずです。Webブラウザから確認してみてみましょう。index.hmtlの中身が見えれば成功です。404になったり、/index.htmlがないと見れなかったりしましたが、キャッシュの問題っぽいということで落ち着きました。


なお、今回の設定では、/docsをドキュメントルートにしました。したがって、画像などもこの配下に置いていきます。


## トップページ(工事中ページ)をモブで作る
ここからはHTMLコーディングの話です。やったことというのは、単に静的なindex.htmlを作っただけといえばそうですが、やはりモブならではの学びもあったので、そういったところを中心に。

まずは、Zoonで画面を共有しつつみんなが見れるようにしつつ、Visual Studio Codeの機能であるLive Shareで直接入力可能なようにします。Live ShareはVSCの拡張ですから、モブに参加する人(直接コーディングする人)はインストールしておきます。共有したLive ShareのURLをクリックすると接続することができます。ホストのVSC内で、入った人のカーソルがどこにあるのかも分かりますし、入力したらほぼリアルタイムで反映されるようになります。また、Participantsをクリックすることでその人の視点に追従できたり、チャット機能もあったりするようです。

これで、タイピストが誰になっても同じように進めることができるでしょう。ただし、コンソールの扱いに若干不安があります。変なことはしないという信義則に基づいてできるところでやりましょう。また、コンソールはホストでやる、ということにしてもいいかもしれません。

背景画像と、メイン画像、説明文をいくつか入れた工事中ページを作ります。

もっとさんがSketchOnlineでサイトイメージを作ってくれましたので、これを作り込んでいきます。

モブプログラミングはタイピストとモブという二つの役割で進めていきます。モブは、みんなで相談して、タイピストに入力する内容を指示します。「index.htmlの10行目のaタグを削って、imgタグを入れてください。」程度に、あるいはタイピストの知識レベルに合わせて指示をします。

タイピストは、基本的にモブの指示に従って入力していきます。タイピストは入力に集中した方がモブ体験はよくなる傾向があるようです。もちろんタイピストが意見を言ってはいけないというわけではないので、(厳格に言わない方がいいという流派もあるかもしれません)今回はタイピストも発言してよい、モブを兼ねるという形で進めます。

また、1スパンを10分に設定します。タイマーで区切ってやることで、みんなが体験できるのとともに、メリハリも付きます。

まずは、基本中の基本、画像を貼り込みましょう。imgタグをつけます。/docs/img/を作り、その中にメイン画像を入れます。ファイル名どうするかでインターネット老人会談義が盛り上がります。作成中ということで、インターネット老人会的にはUnderconstruction一択だろうというコメントも付きますが、短いほうがよかろうということで、setup.pngとなります。

```html
<img src = ”img/setup.png” alt="設営準備中画像">
```

VSCode内のプレビューが上手くいかなかったようなので、ローカルで開きます。当然エクスプローラ/Finderから開いてもよいですが、VSCodeのターミナルから直接開くことも可能です。ちょっとしたことですが、開発スピードアップのコツですね。

```sh
$ open index.html
```

リポジトリにPushして、表示できることを確認します。

Pushをトリガーにして何か走らせている可能性があるので、見えるまで若干ラグがあったり、見えたり見えなかったりすることもありますが、複数の環境ですぐにテストができるのもモブのよいところですね。

次に、Hello Worldを消して、設営中的な文字(SVG)を表示したり、説明分を作ったりします。

バックグラウンドの画像は、パズルのピースのようなものです。スタイルタグでBodyタグ内に直書きもできますが、リピート要素などもありますから、CSSに寄せる形で書いていきます。Styleでバックグラウンドを設定するとデフォルトでリポートになるので、リピートしたくない場合はNoRepeatを設定するなど、またしても老人会みが溢れます。



このページで一番やりたいことは、こういうことをやっているので新しい人を募集するというアクションです。したがって、計画への動線を作るなど、そのページの意味と役割を最大化するようにデザイン、作成をするのがよく、そのために掲載する内容、リンク先などを考えるとよいでしょう。

実装の詳細は余りに細かすぎるので本稿からは省略しますが、理解が怪しいところでも相談しながら進めることができました。インターネット老人会みあふれる会話が繰り広げられるので、省略します。何をいれるのか、大きさをどうするのか、こんなタグ入れてみようか、見た目どうなる？といった形でわいわい進めています。興味ある方は、リポジトリにて確認ください。

## 2回目のモブ(6/11)のふりかえり

今回もふりかえりはFun Done Learnです。


![2回目モブワーク(6月11日)のNext Work](chap-mob-0611/0611nextstep.png?scale=0.6)

![2回目モブワーク(6月11日)のふりかえりFun Done Learn](chap-mob-0611/0611fundonelearn.png?scale=1.0)



次回のTryの項目として、オートセーブ、オートリロードの設定や細かい粒度でのコミットなど、進め方に関するTryが出てきました。LiveShareの使い勝手についてもコメントが出てきています。みんなが慣れてきて、かゆいところが見えてきたということでいい傾向だと思います。順次改善され、最高の環境に近づいていくでしょう

#### [column] 個人的なふりかえり〜心理的安全性があるみんなで作業するの楽しい〜

ギポタル開発メンバーは普段Slackでコミュニケーションを取っていますが、（特に私は）遠慮せずに言いたいことを言っていると思います。

これはギスギスしているのではなく、良い意味で心理的安全性があり、ギポタル開発という共通の目標に対して協働できている状態、だと言えます。ギポタルを良いものにする、より学ぶ、より楽しむというポジティブな思いが感じられるのがとても心地よいです。

この場を借りて、参加メンバーの皆さんに御礼を言いたくなるくらい。いつもありがとうございます。

何もせずに永遠に続くものではないですし、これから色々と問題が出てくると思いますが、楽しむ努力を続けて、最後までやっていきたいなーと思っております。

ちなみに「技術同人誌ポータル ギポタル」という名前は私の案でした。名付け親の一人となれたのもあってかなりモチベーションが高く関わっていけそうです。初期から参加しているとこういう場に立ち会える、爪痕を残せるのも良いですね。

#### [/column]


## 2回目のまとめ

今回の成果は、仮トップの工事中ページを作ったこと、GithubPagesで公開できたこと、ドメイン取得したことです。


今回も2時間ほどでのワークで区切りの良いところまで進捗を出し、さらにNext Action、ふりかえりを含めて完了しました。知識スキルに差があるチームにおいてモブワークは全体スキルの底上げには非常に有効だと感じます。確かにできる人が一人でやれば半分の時間でできるような内容かもしれません。今回のワークでも特別に技術がいるようなことはほとんどありません。できる人なら一人でできるかもしれません。しかしそれを全員でやることで、知識の濃淡の薄いところを他の人からもらいながら、自分の濃いところをみんなに伝播させることができるすばらしい方法だと改めて感じました。