# 工事中ページを作る（モブワーク#2:6月11日）

2回目のモブワークでは建設中ページを作りました。それまでの個人ワークやSlackでの議論等を含めての2回目のモブワークまとめです。

## 工事中ページとは？

古のWebサイト管理人（元インターネット老人会[^elder]）は、「ホームページを作ろう！」と思ったとき、掲示板とか足跡帳とか、100の質問とか、自作小説とか、リンクページとか作るぞー！と思ったものです。ですが、たくさんのページを作るには時間がかかります。いますぐ公開したい！と思った管理人の多くは、メニューに、「掲示板（工事中）」のように、工事中（Underconstruction）としてホームページを公開し始めたものでした。

[^elder]: 具体的にはインターネット黎明期(9X年)の、HTML手打ちでホームページを作っていた頃の話ですね…　あのころにWeb触り出した人はそこでHTMLタグを初めて覚えたりしたものです。CSSですら一般的でなかった、そんな時代。

現在で言うところのティザーサイトのようなものだと思っていただけるとイメージが湧くと思います。工事中と銘打ってはいますが、そのページ自体がサービス開始予定という事実を告知するものです。

## なぜ工事中ページを作るのか？

そんなインターネット老人会ではおなじみの工事中ページですが、ギポタルでも以下の目的で作成することになりました（独断と偏見の理由です）。

 - とりあえず手を動かして成果が欲しい
 - 作成過程を公開していくことで宣伝になる
 - モブプロ（モブワーク）の良さを体感したい
 - 定期的にやらないとエタる（やる気を無くして自然消滅してしまう）

仕事でもない趣味の集まりなので、当然参加者は無償で時間を捻出して集まっています。楽しいとはいえ、なんの成果も得られないことに時間を捻出しつづけるのは参加者にとって大きなストレスになってしまいます。そのため簡単なものでいいから、まずは形ある成果を出そうということになりました。

また、モブプロ（モブワーク）はやってみると様々な問題が出てきます。一人ひとりそれぞれ違う人が集まって行う作業なので、背景共有や認識合わせなどが必要になります。それらもいきなり難しい作業でやるよりも、まずは簡単な作業で行うほうがストレスを低減できます。

これらの理由から、まずは工事中ページの作成にとりかかることになりました。

## gipotal.jpドメインを取る

前回6月6日のモブワークでドメイン候補が決まりました。他で取られていないことも確認できたので、まずドメインを取得しておきます。

前回のモブの中で、ドメイン販売サイトのうち某有名なところと、次くらいに有名なところはいろいろアレなところがあるらしいという評判を聞いたので、今回はXserverで取ることにしました。取りたいドメイン名を入れて検索すると、様々なドメイン(.netとか.comとか含めて)の一覧が表示され、取得できるものには〇表示がされます。併せて年度費用も記載されています。

アカウントを登録し、手続きに入ります。基本的にはショッピング感覚で進めて問題ありません。

ナビゲーションに従って進めれば、ドメインが取れます。

取得が完了したら、管理画面からきちんととれていることを確認し、ニヤニヤすることができます。
![ドメイン管理画面で確認する](chap-mob-0611/domain.png?scale=0.8)

### Whois代行について

ただし、ドメインを取る際に唯一ケアした方が良いのが、Whoisの扱いです。

Whoisデータベースにはドメインの取得者、管理者やネームサーバなどの情報が含まれますが、設定によっては本名や住所がモロバレになってしまいます。

ドメインの登録者情報として、ドメイン取得者の住所や氏名を登録する欄があります。ここに書いた情報は原則、そのドメインの管理者として、本名、住所まで全世界公開（Whoisを表示するサイトもあります）されてしまいます。

ですが、そこでWhoisに非表示設定を行うことにより、これらの個人情報を非表示とすることができます。

![非表示設定](chap-mob-0611/whoissetting.png?scale=0.8)

上方にある、「Whois登録者情報非表示設定」を「有効」にしましょう。

また、同時に「公開代行設定」もしておきましょう。

登録情報として、「登録者名」と「公開連絡窓口」がというものがあり、それぞれ「本名」と「住所」がWhoIsという仕組みで公開されるようになっています。

ともに非公開とするためには、「登録者名」については「WhoIs登録者非表示設定」により、「公開連絡窓口」については「公開代行設定」により、ドメイン管理の運営会社を表示することができます。運営会社によって名称は多少異なるかもしれませんが、他の会社でもたいてい設定ページなどにそういう設定があるようです。

それはともかくとして、本名や住所を登録させるにあたって、

* 登録内容
* 公開内容
* 何のために公開するか
* 非表示にする設定

について、説明をきちんと書いておいて欲しいものです。設定が適切でないと、本名などの個人情報が全世界に公開されてしまいます。

「登録しなきゃいけないから正直に書いてね、でも表示はこうなるし、レジストラを代わりに表示することができるよ、こう設定すると非公開にできるから」
とわかりやすく説明書きをしてほしいものです。

![Whois公開代行ができている例](chap-mob-0611/whois.png?scale=0.8)

結局のところ、「公開代行設定」および「WhoIs登録者情報非公開設定」を行うことで、本名非公開、窓口は運営会社という形に変更できました。

## 工事中ページを作る準備

そろそろ、公開ページが欲しくなるところです。現時点では「建設中」だけでも十分です。古き良きインターネット老人会の建設中ページですね。インターネット老人会的に、カウンターやら隠しリンクやらMIDIを！なんて話も出ますが、とりあえず保留です。

まずは、GitHub Pagesで工事中ページを作るのが次のお題になりました。独自ドメインを設定することもできるようです。

その間に、なべくらさんがトップ画像のラフを作ってくれていました。

![トップ画像ラフ](chap-mob-0611/roughillust.png?scale=0.75)

頒布ブースを準備する子と、泣きながら執筆している子がいい感じです。あ、本当の技術同人誌はみんな楽しんで書いてますからね？これは頑張って書いているからちょっと汗が出ているだけです。できあがったイラストは公式で見てくださいね。

キャラができると、キャラの名前や鳴き声などもアイディアが出てきます。

今回のモブワークは、YouTube Liveにストリーミングを流すという形で保存します。ワークの録画ファイルを保持したりやり取りする必要がないためです。あとから見直す時なども非常に便利で、実際この原稿を書く時も見返しています。このあたりのノウハウは、最近様々なオンラインイベントを主催しているKANEさんの知見によるところが大きく、本当にありがたい限りです。

環境として、

* モブプログラミング：Visual Studio Code（VSCode）+Live Shareで複数人が直接入力可能
* 音声、画面共有：Zoom
* 記録、不参加者への共有：映像はYouTube Live、文字はSlack

というエコかつ機能十分なモブワーク環境が完成しました。

Live Shareは共有URLをクリックするだけで使えます。プラグインのインストールもその場でできて、ストレスなく開始できました。

## 工事中ページをGitHub Pagesに作る
それでは、モブワーク開始です。今日はモブワークでコーディングが主体だったので、MURAL上の内容は少な目です。参加者の確認、今日やること、できたもののスクショを成果物として共有する3カラムのみです。

### ダミーページを作る

まずは、GitHubのリポジトリにダミーのhtmlを作ります。これがないと、外から見てちゃんと設定できているのかがわかりません。

```sh
$ mkdir docs
```

まず`docs`ディレクトリを作って、その中にindex.htmlを作ります。真っ白だとなにがなんだかわからないので、Hello.Worldとでも書いておくとよいでしょう。これをPushします。


すぐあとに説明しますが、今回はGitHub Pagesの設定で`/docs`をドキュメントルートとして運用します。したがって、この配下に置いたものは相対パスで参照できます。

あとは、このindex.htmlを改造すればいかようにでもできますね。

#### [column] gh-pagesを使ってもできるらしいがやらなかった
今回のモブワークは、当該リポジトリに`gh-pages`というブランチを切ってPushするだけ、という雑な説明から始まりました。実際そういう記述をしているBlogなどもあります。

```sh
$ git branch
master
$ git checkout -b gh-pages
$ git branch
master gh-pages
$ git pull origin master
```

ですが、必ずしも`gh-pages`というブランチでなくとも公開できるそうなので、`master`にフォルダを作ってやることになりました。使わなかったけど、gitのコマンドも覚えられて便利！

#### [/column]

### GitHub Pagesの設定
次に、GitHub Pagesの設定です。
リポジトリのSettingsから、Sourceを設定します。Settingsの下の方、Danger Zoneの上です。

![GitHub Pagesの設定をする](chap-mob-0611/ghpagessetting.png?scale=0.8)

![プルダウンメニューから設定](chap-mob-0611/pulldownmenu.png?scale=0.8)

この部分では、どのブランチやディレクトリをGitHub Pagesで公開するかを設定します。初期設定ではnoneになっていて、何も表示されません。ここではすでにdocsにindex.htmlを置いているので、これを表示するように`master branch /docs folder`に設定します。masterの直下にindex.htmlを置く場合は、`master branch`に設定します。

http://＜ID＞.github.io/repository でアクセスできるはずです。Webブラウザから確認してみましょう。index.hmtlの中身が見えれば成功です。404になったり、/index.htmlがないと見れなかったりしましたが、キャッシュの問題っぽいということで落ち着きました。


なお、今回の設定では、/docsをドキュメントルートにしました。したがって、画像などもこの配下に置いていきます。


## トップページ（工事中ページ）をモブで作る
ここからはHTMLコーディングの話です。やったことというのは、単に静的なindex.htmlを作っただけといえばそうなのですが、やはりモブならではの学びもあったので、そういったところを中心に。

まずは、Zoonで画面を共有してみんなが見れるようにしつつ、Visual Studio Codeの機能であるLive Shareで直接入力可能なようにします。Live ShareはVSCodeの拡張ですから、モブに参加する人（直接コーディングする人）はインストールしておきます。ホストとなる人がLive Shareを開始し、そのURLを共有します。他の参加者は、共有したLive ShareのURLをクリックすると接続できます。ホストのVSCode内で、入った人のカーソルがどこにあるのかも分かりますし、入力したらほぼリアルタイムで反映されるようになります。また、Participantsをクリックすることでその人の視点に追従できたり、チャット機能もあったりするようです。

これで、タイピストが誰になっても同じように進めることができるでしょう。ただし、コンソールが扱えるということは、PCを操作する権限が他の人にも付くということで、セキュリティ上では不安があります。変なことはしないという信義則に基づいて、信頼できる参加者の範囲で行うのが良いと思われます（無策だとは思いませんが、未確認です）。また、コンソールはホストでやる、ということにしてもいいかもしれません。

では実際のモブプログラミングとして、背景画像とメイン画像、説明文をいくつか入れた工事中ページを作ります。

もっとさんがSketch Onlineでサイトイメージを作ってくれたので、これを作り込んでいきます。

モブプログラミングはタイピストとモブという二つの役割で進めていきます。モブは、みんなで相談して、タイピストに入力する内容を指示します。「index.htmlの10行目のaタグを削って、imgタグを入れてください。」程度の内容で、あるいはタイピストの知識レベルに合わせて指示をしていきます。

タイピストは、基本的にモブの指示に従って入力していきます。タイピストは入力に集中した方がモブ体験がよくなる傾向があるようです。もちろんタイピストが意見を言ってはいけないというわけではないので（厳格に「言わない方がいい」という流派もあるかもしれませんが）、今回はタイピストも発言してよい、モブを兼ねるという形で進めています。

また、１スパンを10分に設定します。タイマーで区切ってやることで、みんなが体験できるのとともに、メリハリも付きます。

まずは基本中の基本、画像を貼り込みましょう。imgタグをつけます。/docs/img/を作り、その中にメイン画像を入れます。ファイル名をどうするかでインターネット老人会談義が盛り上がります。作成中ということで、インターネット老人会的にはUnderconstruction一択だろうというコメントも付きますが、短いほうがよかろうということで、setup.pngとなります。

```html
<img src = "img/setup.png" alt="設営準備中画像">
```

VSCode内のプレビューが上手くいかなかったようなので、ローカルで開きます。当然エクスプローラ/Finderから開いてもよいですが、VSCodeのターミナルから直接開くことも可能です。ちょっとしたことですが、開発スピードアップのコツですね。

```sh
$ open index.html
```

リポジトリにPushして、表示できることを確認します。

Pushをトリガーにして何か走らせている可能性があるので、見えるまで若干ラグがあったり、見えたり見えなかったりすることもありますが、複数の環境ですぐにテストができるのもモブのよいところですね。

次に、Hello Worldを消して、設営中的な文字（ファイル形式はSVG）を表示したり、説明文を作ったりします。

バックグラウンドの画像は、パズルのピースのようなものです。StyleタグでBodyタグ内に直書きもできますが、リピート要素などもありますから、CSSに寄せる形で書いていきます。Styleでバックグラウンドを設定するとデフォルトでリポートになるので、リピートしたくない場合はNoRepeatを設定するなど、またしても老人会みが溢れます。



このページで一番やりたいことは、こういうことをやっているので新しい人を募集するというアクションです。したがって、計画への動線を作るなど、そのページの意味と役割を最大化するようにデザイン、作成をするのがよく、そのために掲載する内容、リンク先などを考えるとよいでしょう。

実装の詳細は余りに細かすぎるので本稿からは省略しますが、理解が怪しいところでも相談しながら進めることができました。ただ、内容としてはインターネット老人会みあふれる会話が繰り広げられたので、この本では省略しています。何をいれるのか、大きさをどうするのか、こんなタグ入れてみようか、見た目どうなる？といった形でわいわい進めています。興味ある方は、リポジトリにて確認ください。

## 2回目のモブ(6/11)のふりかえり

今回もふりかえりはFun Done Learnです。

![2回目モブワーク（6月11日）のNext Work](chap-mob-0611/0611nextstep.png?scale=0.6)

![2回目モブワーク（6月11日）のふりかえりFun Done Learn](chap-mob-0611/0611fundonelearn.png?scale=1.0)



次回のTryの項目として、オートセーブ、オートリロードの設定や細かい粒度でのコミットなど、進め方に関するTryが出てきました。Live Shareの使い勝手についてもコメントが出てきています。みんなが慣れてきて、かゆいところが見えてきたということでいい傾向だと思います。順次改善され、最高の環境に近づいていくでしょう。

#### [column] 個人的なふりかえり〜心理的安全性があるみんなで作業するの楽しい〜

ギポタル開発メンバーは普段Slackでコミュニケーションを取っていますが、（特に私は）遠慮せずに言いたいことを言っていると思います。

これはギスギスしているのではなく、良い意味で心理的安全性があり、ギポタル開発という共通の目標に対して協働できている状態、だと言えます。ギポタルを良いものにする、より学ぶ、より楽しむというポジティブな思いが感じられるのがとても心地よいです。

この場を借りて、参加メンバーの皆さんに御礼を言いたくなるくらい。いつもありがとうございます。

何もせずに永遠に続くものではないですし、これから色々と問題が出てくると思いますが、楽しむ努力を続けて、最後までやっていきたいなーと思っております。

ちなみに「技術同人誌ポータル ギポタル」という名前は私の案でした。名付け親の一人となれたのもあってかなりモチベーションが高く関わっていけそうです。初期から参加しているとこういう場に立ち会える、爪痕を残せるのも良いですね。

#### [/column]


## 2回目のまとめ

今回の成果は、仮トップの工事中ページを作ったこと、GitHub Pagesで公開できたこと、ドメイン取得したことです。


今回も2時間ほどでのワークで区切りの良いところまで進捗を出し、さらにNext Action、ふりかえりを含めて完了しました。知識スキルに差があるチームにおいてモブワークは全体スキルの底上げには非常に有効だと感じます。確かにできる人が一人でやれば半分の時間でできるような内容かもしれません。今回のワークでも特別に技術が必要なことはほとんどありません。できる人なら一人でできるかもしれません。しかしそれを全員でやることで、知識の濃淡の薄いところを他の人からもらいながら、自分の濃いところをみんなに伝播させることができるすばらしい方法だと改めて感じました。
