# モブ11回目(7月18日)

11回目のモブです。

## ユーザー権限についての議論
トップページを作るにあたって、メンバー、寄稿者の扱いについての相談です。

![サークル管理画面](chap-mob-0718/circleConfig.png?scale=0.8)

サークルのメンバー管理画面のワイヤフレームが届きました。素敵ですね。

まず、オーナーという表記に異論はありませんね。サークル主を意味しますが、主という表現は少し慣用表現的ですし、権限が明確にわかるでしょう。”編集者”は、サークル情報が編集できる人、メンバーはサークルページにアイコンが表示されるだけということで(権限すくなめの)寄稿者を想定しています。

ただし、編集者は、役割としての編集者を想定しますので、情報編集権限つきのメンバー、表示のみの寄稿者がよさそう、という話で落ち着きます。

直観的に、名は体を表してほしいと考えるのが適切です。また、あまり考えたくはありませんが、勝手に代表権限を移譲して主を追い出す、サークルページを乗っ取るなんてことができてしまうと困ります。権限回りについては後日きちんと相談する必要があるでしょう。

ただし、通常のサークルであれば、サークル主に寄稿者がいたりいなかったりするということで、親方Projectがエッジケースであることは間違いありません。しかもそのエッジケースがステークホルダーであるという厄介な問題を抱えています。このエッジケースに引きずられすぎないように適切に検討していきましょう。

## サークルページ製作続き
サイドのイベントバナーなどを作り込んでいきます。前回の続きですね。


## .bashの設定
なぜかNode.jsのバージョンが変わってしまう（8系になってしまう）ということで、起動のたびに最新にしていたのですが、何かおかしいという事で、ホストの環境を確認します。

そもそものきっかけは、インデント整形ツールをインストールしようとしたことです。

```sh
npx prettier
prettier resuires at least version 10.13.0 of Node. Please
```

でPrettierをインストールしようとしたことによります。ところが、Node.jsのバージョンが対応しないという旨のエラーが出ました。起動時にバージョンをあげているにも関わらず、nodeのバージョンが8.15.0になってしまうという状況でした。

そこで、Nodeのバージョンを固定します。

```sh
$ code ~/.bashrc
```

でbashの設定ファイルを開き、Ver12系に固定するようにします。`nvm use 12`を追記して、nodeの12に固定します。にも関わらず、走っているバージョンが8.15.0になってしまうという状態です。いろいろ確認、設定をしていきます。ターミナルでzshという記載があるためbashではないのではないか、あるいは設定ファイルが違うのではないか？という確認もしました。

```sh
$ export |grep SHELL
declare -x SHELL="/bin/bash"
```

となり、確かにbashであることが確認できました。次は、.bashrcにechoで適当な文字列を入れて、.bashrcが走っている事を確認します。ターミナル上でnow running node 12表示されたため、確実にNode12になっているにもかかわらず、バージョン確認をすると8に戻ってしまうという状況です。謎い。

`.bash_profile`も確認します。

もっとさんから、デフォルトを変更するコマンドの提案がなされますが、やっぱりだめです。デフォルトは12系になっていることは確認できたものの、現在の

一旦Node8をアンインストールしてみます。使ってないので問題ないはず。

```sh
$ nvm uninstall 8.15.0
$ node -v
-bash node　command not found
```

と、Nodeが見つからないというエラーとなりました

.bash_profileを再確認したところ、Pathの中に、Path=の中に、8.15.0に上書きしている行があることが判明しました。これを消して、Nodeのバージョン問題は解決しました。なお、消しすぎについて確認をして、完了です。

これは、昔別の環境構築をしようとした試行錯誤の結果とのことでした。Pathの扱いを棚ぼたで知れたモブワークでした。予想外の動きがある場合、こういうところに原因があることもあるんですね・・・

Prittierをインストールして、動くことを確認して、めでたしめでたし。

```sh
npx pretter --write src
git diff
```

で差分が見れます。インデントが４から２になって、インデント整形が完了しました。めでたしめでたし。本来は毎回回すようにして、Diffが出ないようにすると良いでしょう。

これももう一度Pushして、本日のワークは完了です。

また、VSCodeは頻繁に更新しましょう。古くていいことはほとんどないので。


#### [column] 折り返し設定のショートカット　Alt+Z
VScodeで、Alt+Z(MacだとOption+Z)で全幅で自動改行をON/OFFできます。

Wordwrapを切り替えもできますが、ショートカットキーを覚えておくと便利です。

参加者からも、知らなかった…とつぶやきが出ましたが、こういうのもモブのメリットかもしれませんね。

#### [/column]

## サークルページのデザインについての相談
もっとさんからの提起で、サークルの色やアイコンについての相談に移ります。

サークルのアイコンというものは基本存在しませんし、新しく作ったりするのも大変です。テーマカラーを任意に設定できるようにしたいとか出ます。Boothやとらのあなのアイコンが非常に強く、浮いて見えてしまうという問題も出てきます。そして、サークルカラーを選ぶ必要があることから、単純に選択項目、データが増えてしまい単純に記入が面倒という問題も生じます。

サークルアイコンを作るという文化をギポタル発で作り上げるという案も出てきます。サークル識別をいかに実装するか、です。

ユーザーアイコンを丸で、サークルアイコンを四角で作るという案も出ますが、「サークルなのに四角？」なんて話も出つつ・・・

## まとめ



![7月18日のFun done learn](chap-mob-0718/0718fundonelearn.png?scale=0.8)